{"componentChunkName":"component---src-templates-blog-post-js","path":"/prototype/","result":{"data":{"site":{"siteMetadata":{"title":"neekoblog"}},"markdownRemark":{"id":"f13e515d-94b7-5fc1-93bd-49516fa60002","excerpt":"개요 Javascript는 prototype 기반 OOP 언어라고 한다.\nJavascript를 계속 보니까 이제 실제로 어떤걸 가지고 prototype과 chain을 이야기 하는 것인지 조금은 이해했지만\n더 자세히 살펴볼 필요가 있을 것 같아 해당 글을 작성한다. 📍 Prototype…","html":"<h3>개요</h3>\n<p>Javascript는 prototype 기반 OOP 언어라고 한다.\nJavascript를 계속 보니까 이제 실제로 어떤걸 가지고 prototype과 chain을 이야기 하는 것인지 조금은 이해했지만\n더 자세히 살펴볼 필요가 있을 것 같아 해당 글을 작성한다.</p>\n<h3>📍 Prototype 기반 OOP</h3>\n<blockquote>\n<p>prototype은 Object들이 서로 속성을 공유하기 위해 사용하는 연결고리다.</p>\n</blockquote>\n<p>보통은 class로 상속모델을 사용하는데 javascript는 프로토타입 상속모델을 사용한다.<br/>\n객체가 상위 프로토타입 메소드와 속성을 상속받을 수 있는데 상위의 상위 프로토타입도 상속을 받을 수 있게 하는 것을 <b>Prototype Chain</b>이라고도 한다.<br/>\n즉, 상속되는 속성과 메소드는 생성자의 prototype안에 정의되어있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">let</span> a <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">a<span class=\"token punctuation\">.</span>__proto__</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{</span><span class=\"token literal-property property\">__defineGetter__</span><span class=\"token operator\">:</span> ƒ<span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">__defineSetter__</span><span class=\"token operator\">:</span> ƒ<span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">hasOwnProperty</span><span class=\"token operator\">:</span> ƒ<span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">__lookupGetter__</span><span class=\"token operator\">:</span> ƒ<span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">__lookupSetter__</span><span class=\"token operator\">:</span> ƒ<span class=\"token punctuation\">,</span> …<span class=\"token punctuation\">}</span>\n<span class=\"token literal-property property\">constructor</span><span class=\"token operator\">:</span>ƒ <span class=\"token function\">Object</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token literal-property property\">hasOwnProperty</span><span class=\"token operator\">:</span>ƒ <span class=\"token function\">hasOwnProperty</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token literal-property property\">isPrototypeOf</span><span class=\"token operator\">:</span>ƒ <span class=\"token function\">isPrototypeOf</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token literal-property property\">propertyIsEnumerable</span><span class=\"token operator\">:</span>ƒ <span class=\"token function\">propertyIsEnumerable</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token literal-property property\">toLocaleString</span><span class=\"token operator\">:</span>ƒ <span class=\"token function\">toLocaleString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token literal-property property\">toString</span><span class=\"token operator\">:</span>ƒ <span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token literal-property property\">valueOf</span><span class=\"token operator\">:</span>ƒ <span class=\"token function\">valueOf</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token literal-property property\">__defineGetter__</span><span class=\"token operator\">:</span>ƒ <span class=\"token function\">__defineGetter__</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">...</span></code></pre></div>\n<h3>❤️ Prototype이란?</h3>\n<p>prototype 객체는 생성자 함수로 생성된 객체들이 공통으로 사용할 수 있는 프로퍼티를 제공하는 역할을 합니다.\n일반 함수가 생성될 때 prototype 프로퍼티가 자동으로 함께 만들어집니다.</p>\n<h4>🔍 [[Prototype]] 내부 슬롯 vs prototype 프로퍼티</h4>\n<p>JavaScript에서는 두 가지 다른 개념을 구분해야 합니다</p>\n<p><strong><code class=\"language-text\">[[Prototype]]</code> 내부 슬롯</strong></p>\n<ul>\n<li>모든 객체가 가지고 있는 내부 슬롯</li>\n<li>상속을 구현하는데 사용되는 참조값</li>\n<li><code class=\"language-text\">__proto__</code> 접근자나 <code class=\"language-text\">Object.getPrototypeOf()</code>로 접근 가능</li>\n<li>객체의 <code class=\"language-text\">[[Prototype]]</code>은 상속 체인에서 상위에 있는 프로토타입 객체를 가리킵니다</li>\n<li>함수의 경우에는 <code class=\"language-text\">Function.prototype</code> 객체를 가리킵니다</li>\n<li>인스턴스의 경우에는 생성자 함수의 <code class=\"language-text\">prototype</code> 프로퍼티가 가리키는 객체를 가리킵니다</li>\n</ul>\n<p><strong><code class=\"language-text\">prototype</code> 프로퍼티</strong></p>\n<ul>\n<li>함수 객체만 가지고 있는 일반 프로퍼티</li>\n<li>생성자 함수로 인스턴스를 만들 때 인스턴스의 <code class=\"language-text\">[[Prototype]]</code>이 가리킬 객체</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">Dog</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> <span class=\"token string\">\"early\"</span> <span class=\"token comment\">// 생성자 함수의 프로퍼티 설정</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> puppy <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Dog</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"access\"</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// Dog 생성자로 인스턴스 생성</span>\n\n<span class=\"token comment\">// prototype 프로퍼티 (함수만 소유)</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Dog</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">)</span> <span class=\"token comment\">// 👉 Dog는 함수이므로 prototype 프로퍼티 존재 ✅</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>puppy<span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">)</span> <span class=\"token comment\">// 👉 puppy는 인스턴스이므로 prototype 프로퍼티 없음 ❌ (undefined)</span>\n\n<span class=\"token comment\">// [[Prototype]] 내부 슬롯 (모든 객체가 소유)</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>Dog<span class=\"token punctuation\">.</span>__proto__<span class=\"token punctuation\">)</span> <span class=\"token comment\">// 👉 Function.prototype</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>puppy<span class=\"token punctuation\">.</span>__proto__<span class=\"token punctuation\">)</span> <span class=\"token comment\">// 👉 Dog.prototype (생성자의 prototype 프로퍼티와 연결)</span></code></pre></div>\n<p>Prototype값에 접근하기 위해서 <code class=\"language-text\">Object.prototype.__proto__</code>를 사용하면 된다.\n이렇게 하면 내부에서 Object.getPrototypeOf()가 호출된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">let</span> a <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span> <span class=\"token comment\">// 빈 객체 생성</span>\na<span class=\"token punctuation\">.</span>__proto__ <span class=\"token comment\">// 객체의 프로토타입에 접근 (Object.prototype과 동일)</span></code></pre></div>\n<h3>✅ constructor 프로퍼티</h3>\n<p>프로토타입 객체(.prototype)는 constructor 프로퍼티를 갖는다.<br/>\n이 constructor프로퍼티는 객체의 입장에서 자신을 생성한 객체를 가리킨다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/neekoblog/static/d4774ffed4066437c1437267c769b346/541fe/contructorprototype.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 44.800000000000004%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAACGElEQVR42mWSTU8TURSG+59MDGoiMUEWbk3YijtXNYZASEjUSGSjMQoqDhCCCywNVgppKZ0pLTOdmXbKV6HTuXemfGhi3BhduX+808JGF0/OuTcn7zkn70m02238tk8gQ4TsEAhFEF3kEt/3iWsu6/wgUP/Rf/gXNYk4CQNB3TGwrCy1Wo66wjLX2PMsQtUoFo0RQuA3m9j2Fq6r4yjcLgZBq6UGCUichpJUyWTHvs8vMYBb6MfZ7OfP6QAZY4yctUdHBqq7T7MleJeeoZG7yuHWdZr6DY6L19jJ3mRh45NqGJI4V12nXYvxIIUWarw81nhxpKFFGo/8LOl6nfMwRErJ3mGT5L7B5Mkqz+UKU1GaKZliIsow6hmIlt8TnHFtXpVHsZwhlj7fZXl9CKc2xOPSFAt6mWbDw/M8jHKFkX2d+d9fmP2+wvS3FbQfKv7MMrFbVmsrwa9K8I1j87aSpFwYZG5xgPml29jbgzyrTDKnVzjabdBQgiW7xsONWarGLVY/9jE/c4Vcqo988Q5jxioikCTOlOAH1yQpdZ7IHOPtHk+jPElRZq3uctZdWbB71GKktEzKfMD7zDCv0/eYWxtm0UwqwQyirUwRyhmv0aBg2mzZHrrTo6DyolXl4OCg6158Ei3lZNGyWK+Y5FXcrFbJmfF7h227SnB5NlJNGXUJ/kEgLsQu6ShzTtTEHdkjzmMidbPxHf4FDgVCKfhu34sAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"contructorprototype\"\n        title=\"\"\n        src=\"/neekoblog/static/d4774ffed4066437c1437267c769b346/0b533/contructorprototype.png\"\n        srcset=\"/neekoblog/static/d4774ffed4066437c1437267c769b346/fac75/contructorprototype.png 125w,\n/neekoblog/static/d4774ffed4066437c1437267c769b346/63868/contructorprototype.png 250w,\n/neekoblog/static/d4774ffed4066437c1437267c769b346/0b533/contructorprototype.png 500w,\n/neekoblog/static/d4774ffed4066437c1437267c769b346/1d69c/contructorprototype.png 750w,\n/neekoblog/static/d4774ffed4066437c1437267c769b346/00d43/contructorprototype.png 1000w,\n/neekoblog/static/d4774ffed4066437c1437267c769b346/541fe/contructorprototype.png 1654w\"\n        sizes=\"(max-width: 500px) 100vw, 500px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h3>✅ Prototype Chain</h3>\n<p>객체에서 프로퍼티나 메소드에 접근하려고 할 때 자신에게 해당 속성이 없으면 [[Prototype]]이 가리키는 링크를 따라 탐색한다.<br/>\n계속 올라가다가 null을 프로토타입으로 가지는 Object를 만나면 그때 프로퍼티 참조를 멈춘다.<br/>\n이러한 과정을 프로토타입 체인이라고 한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> early <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Dog\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>early<span class=\"token punctuation\">.</span><span class=\"token function\">hasOwnProperty</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"type\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// -> true</span>\n\n<span class=\"token comment\">//early라는 객체는 hasOwnProperty라는 메소드를 가지고 있지 않는데 정상적으로 출력되었다.</span>\n<span class=\"token comment\">//이는 early라는 객체의 [[Prototype]]이 가리키는 링크인 Object.prototype의 hasOwnProperty를 호출하였기 때문이다.</span>\n<span class=\"token comment\">//Object.prototype.hasOwnProperty.call(early, \"type\")</span></code></pre></div>\n<p>javascript의 Reference Type은 모두 위와 같은 방식으로 동작한다. (ex. Array, Set, Object, Function)\nReference Type은 위의 프로토타입 체인을 통해 내장 메서드에 접근한다. (ex. Array.prototype.map())</p>\n<p><em>javascript의 Prototype 속성을 이용해서 자료구조에 활용하는 예시를 추후에 추가하고자 한다.</em></p>\n<h3>📍 프로토타입 체인이 생성되는 경우</h3>\n<ol>\n<li>객체 리터럴 방식</li>\n<li>생성자 함수 방식</li>\n<li>Object.create()</li>\n</ol>\n<h3>⚠️ 주의할 점</h3>\n<p>Polyfill : 브라우저가 지원하지 않는 최신 기능을 기존의 내장 객체의 프로토타입에 추가하는 코드</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token class-name\">Array</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span>includes<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token class-name\">Array</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">includes</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">value</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">indexOf</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span> <span class=\"token operator\">!==</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Ponyfill : Polyfill과 비슷하지만 내장 객체를 직접 수정하지 않고 독립적인 함수로 제공하는 방법</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">includes</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">array<span class=\"token punctuation\">,</span> value</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> array<span class=\"token punctuation\">.</span><span class=\"token function\">indexOf</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span> <span class=\"token operator\">!==</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">includes</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// true</span></code></pre></div>\n<p>위의 두가지를 사용하는 경우가 아니라면 네이티브 프로토타입을 확장하면 캡슐화를 망친다.<br/>\n(Monkey Patching: 기존의 객체나 함수의 동작을 런타임에 직접 수정하거나 덮어쓰는 것)</p>","frontmatter":{"title":"Prototype","date":"June 16, 2025","description":"Prototype, Prototype Chain..."}},"previous":{"fields":{"slug":"/react_batching/"},"frontmatter":{"title":"react의 batchingUpdate"}},"next":null},"pageContext":{"id":"f13e515d-94b7-5fc1-93bd-49516fa60002","previousPostId":"4b26059f-1acc-54aa-803a-a8a0c8968e52","nextPostId":null}},"staticQueryHashes":["1469588348","2841359383"],"slicesMap":{}}